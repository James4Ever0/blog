<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>object manipulation | Blog of James Brown</title>
  <meta name="author" content="James Brown">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="Blog of James Brown"/>

  
    <meta property="og:image" content=""/>
  

  
    <link rel="alternative" href="/blog/atom.xml" title="Blog of James Brown" type="application/atom+xml">
  
  
    <link href="/blog/favicon.png" rel="icon">
  

  <!-- CSS -->
  <link rel="stylesheet" href="/blog/css/themes/cerulean.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/blog/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/blog/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/blog/css/responsive.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/blog/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/blog/css/highlight-default.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/blog/css/google-fonts.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/blog/css/comment.css" media="screen" type="text/css">
  <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/es5-shim/4.5.9/es5-shim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/es5-shim/4.5.7/es5-sham.min.js"></script>
  <![endif]-->

  <script src="/blog/js/jquery-2.0.3.min.js"></script>
  
  
  <!-- analytics -->
  



<meta name="generator" content="Hexo 7.0.0"></head>

<body>
  <nav id="main-nav" class="navbar navbar-inverse navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
      <button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
	<span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
       <a class="navbar-brand" href="/blog/">Blog of James Brown</a>
      <div class="collapse navbar-collapse nav-menu">
		<ul class="nav navbar-nav">
		  
		  <li>
			<a href="/blog/archives" title="All the articles.">
			  <i class="fa fa-archive"></i>Archives
			</a>
		  </li>
		  
		  <li>
			<a href="/blog/categories" title="All the categories.">
			  <i class="fa fa-folder"></i>Categories
			</a>
		  </li>
		  
		  <li>
			<a href="/blog/tags" title="All the tags.">
			  <i class="fa fa-tags"></i>Tags
			</a>
		  </li>
		  
		  <li>
			<a href="/blog/about" title="About me.">
			  <i class="fa fa-user"></i>About
			</a>
		  </li>
		  
		</ul>
      </div>
    </div> <!-- container -->
</nav>
<div class="clearfix"></div>

  <div class="container">
    <div class="content">
      

<!-- title -->
<div class="page-header page-header-inverse ">
  <h1 class="archive-title-tag title title-inverse ">object manipulation</h1>
</div>

<div class="row page">
  <!-- cols -->
  
  <div class="col-md-9">
	

	  <div id="top_search"></div>

      
         <!-- display as entry -->
	     <div class="mypage">
	       
		     
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2024-05-13 </div>
			<div class="article-title"><a href="/blog/2024/05/13/6a607b1f-20e8-487c-8f34-166310a7c51b/" title="This article provides an explanation of FreeCAD scripting, specifically focusing on how to manipulate objects and create circles within specified bounds using Python. The article includes examples of defining dimensions and the number of circles needed, as well as calculating side lengths and margins to generate squares with given parameters.">Freecad Python Scripting</a></div>
		</h3>
	


		     
<div class="entry">

  <div class="row">
	
	
		<p>Reference:</p>
<p><a target="_blank" rel="noopener" href="https://wiki.freecad.org/FreeCAD_Scripting_Basics">https://wiki.freecad.org/FreeCAD_Scripting_Basics</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Part</span><br><span class="line">doc = FreeCAD.ActiveDocument</span><br><span class="line"><span class="comment"># list all objects</span></span><br><span class="line">all_objects = doc.Objects</span><br><span class="line"><span class="comment"># list all names</span></span><br><span class="line">all_object_names = [it.Name <span class="keyword">for</span> it <span class="keyword">in</span> all_objects]</span><br><span class="line"><span class="comment"># get object by name</span></span><br><span class="line">obj = doc.getObject(<span class="string">&quot;myObjectName&quot;</span>)</span><br><span class="line"><span class="comment"># get vertex point</span></span><br><span class="line">vertex_point = obj.Shape.Vertexes[<span class="number">0</span>].Point</span><br><span class="line"><span class="comment"># create new line</span></span><br><span class="line">new_line = Part.makeLine((-<span class="number">200</span>, -<span class="number">200</span>, <span class="number">0</span>), (<span class="number">200</span>, <span class="number">200</span>, <span class="number">0</span>))</span><br><span class="line"><span class="comment"># insert the line</span></span><br><span class="line">Part.show(new_line)</span><br><span class="line"><span class="comment"># recompute the document</span></span><br><span class="line">doc.recompute()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>Draw squares within specific bounds:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">margin = <span class="number">15</span></span><br><span class="line"><span class="comment"># Define the dimensions of the square area</span></span><br><span class="line">x_min = -<span class="number">210.134</span> + margin</span><br><span class="line">x_max = -<span class="number">84.134</span> - margin</span><br><span class="line">y_min = -<span class="number">140.0997</span> + margin</span><br><span class="line">y_max = -<span class="number">14.0997</span> - margin</span><br><span class="line">z = <span class="number">0</span></span><br><span class="line"><span class="comment"># Define the number of squares in each row and column</span></span><br><span class="line">num_squares = <span class="number">10</span></span><br><span class="line"><span class="comment"># Calculate the side length of each square</span></span><br><span class="line">x_length = (x_max - x_min) / num_squares</span><br><span class="line">y_length = (y_max - y_min) / num_squares</span><br><span class="line">margin_portion = <span class="number">0.17</span></span><br><span class="line">hole_portion = <span class="number">1</span> - <span class="number">2</span> * margin_portion</span><br><span class="line"><span class="comment"># Create the squares</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(num_squares):</span><br><span class="line"><span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(num_squares):</span><br><span class="line">x_start = x_min + i * x_length + x_length * margin_portion</span><br><span class="line">y_start = y_min + j * y_length + y_length * margin_portion</span><br><span class="line">square_points = [</span><br><span class="line">(x_start, y_start, z),</span><br><span class="line">(x_start + x_length * hole_portion, y_start, z),</span><br><span class="line">(x_start + x_length * hole_portion, y_start + y_length * hole_portion, z),</span><br><span class="line">(x_start, y_start + y_length * hole_portion, z),</span><br><span class="line">(x_start, y_start, z), <span class="comment"># to make it closed</span></span><br><span class="line">]</span><br><span class="line">square = Part.makePolygon(square_points)</span><br><span class="line">Part.show(square)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>Draw circles with specific bounds:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">margin = <span class="number">15</span></span><br><span class="line"><span class="comment"># Define the dimensions of the square area</span></span><br><span class="line">x_min = -<span class="number">210.134</span> + margin</span><br><span class="line">x_max = -<span class="number">84.134</span> - margin</span><br><span class="line">y_min = -<span class="number">140.0997</span> + margin</span><br><span class="line">y_max = -<span class="number">14.0997</span> - margin</span><br><span class="line">z = <span class="number">0</span></span><br><span class="line"><span class="comment"># Define the number of circles in each row and column</span></span><br><span class="line">num_circles = <span class="number">10</span></span><br><span class="line"><span class="comment"># Calculate the side length of each circle</span></span><br><span class="line">x_length = (x_max - x_min) / num_circles</span><br><span class="line">y_length = (y_max - y_min) / num_circles</span><br><span class="line">margin_portion = <span class="number">0.17</span></span><br><span class="line">radius_portion = <span class="number">0.5</span> - margin_portion</span><br><span class="line">radius = x_length * radius_portion</span><br><span class="line">direction = App.Vector(<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>)</span><br><span class="line"><span class="comment"># Create the squares</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(num_circles):</span><br><span class="line"><span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(num_circles):</span><br><span class="line">x_center = x_min + i * x_length + x_length * <span class="number">0.5</span></span><br><span class="line">y_center = y_min + j * y_length + y_length * <span class="number">0.5</span></span><br><span class="line">circle = Part.makeCircle(radius, App.Vector(x_center, y_center, <span class="number">0</span>), direction)</span><br><span class="line">Part.show(circle)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

	
	</div>
  <a type="button" href="/blog/2024/05/13/6a607b1f-20e8-487c-8f34-166310a7c51b/#more" class="btn btn-default more">Read More</a>
</div>

	       
	     </div>
	     <div>
	       <center>
	         <div class="pagination">
<ul class="pagination">
	 
</ul>
</div>

	       </center>
	     </div>	
      

</div> <!-- col-md-9/col-md-12 -->


<div class="col-md-3">
	<div id="sidebar">
	
			
  <div id="site_search">
   <div class="form-group">
    <input type="text" id="local-search-input" name="q" results="0" placeholder="Search" class="st-search-input st-default-search-input form-control"/>
   </div>  
  <div id="local-search-result"></div>
  </div>


		
			
<div class="widget">
	<h4>Links</h4>
	<ul class="blogroll list-unstyled">
	
		<li><i class="fa fa-github"></i><a href="https://github.com/james4ever0/agi_computer_control/" title="Autonomous computer agent" target="_blank"]);">Project Cybergod</a></li>
	
		<li><i class="fa fa-github"></i><a href="https://github.com/james4ever0/pyjom/" title="Media content automation" target="_blank"]);">Project Pyjom</a></li>
	
		<li><i class="fa fa-github"></i><a href="https://github.com/james4ever0/prometheous/" title="Automated documentation, AI+IR(RAG)" target="_blank"]);">Project Prometheus</a></li>
	
		<li><i class="fa fa-github"></i><a href="https://github.com/james4ever0/pyjom/" title="Media Content Automation" target="_blank"]);">Project Pyjom</a></li>
	
		<li><i class="fa fa-github"></i><a href="https://github.com/james4ever0/my_blog_source/" title="Source code of my blog"" target="_blank"]);">Blog Source Code</a></li>
	
		<li><i class="fa fa-github"></i><a href="http://www.github.com/james4ever0" title="My Github account" target="_blank"]);">My Github</a></li>
	
		<li><i class="fa fa-book"></i><a href="https://samoyedsun.github.io/" title="Samoyedsun's Blog" target="_blank"]);">Samoyedsun&#39;s Blog</a></li>
	
		<li><i class="fa fa-book"></i><a href="http://atlant1c.cn/" title="Atlant1c's Blog" target="_blank"]);">Atlant1c&#39;s Blog</a></li>
	
		<li><i class="fa fa-book"></i><a href="https://www.gregoryuan.com/" title="Gregoryuan's Blog" target="_blank"]);">Gregoryuan&#39;s Blog</a></li>
	
		<li><i class="fa fa-book"></i><a href="https://yubingtao.netlify.app/" title="Yubingtao's Blog" target="_blank"]);">Yubingtao&#39;s Blog</a></li>
	
	</ul>
</div>


		
	</div> <!-- sidebar -->
</div> <!-- col-md-3 -->




    </div>
  </div>
  <div class="container-narrow">
    <footer> <p>
  &copy; 2024 James Brown
  
      with help from <a href="http://hexo.io/" target="_blank">Hexo</a> and <a href="http://getbootstrap.com/" target="_blank">Twitter Bootstrap</a>. Theme by <a target="_blank" rel="noopener" href="http://github.com/wzpan/hexo-theme-freemind/">Freemind</a>.    
</p> </footer>
  </div> <!-- container-narrow -->
  


  
<a id="gotop" href="#">   
  <span>▲</span> 
</a>

<script src="/blog/js/jquery.imagesloaded.min.js"></script>
<script src="/blog/js/gallery.js"></script>
<script src="/blog/js/bootstrap.min.js"></script>
<script src="/blog/js/main.js"></script>
<script src="/blog/js/search.js"></script> 


<link rel="stylesheet" href="/blog/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/blog/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>



   <script type="text/javascript">      
     var search_path = "search.xml";
	 if (search_path.length == 0) {
	 	search_path = "search.xml";
	 }
	 var path = "/blog/" + search_path;
     searchFunc(path, 'local-search-input', 'local-search-result');
   </script>


<!-- syntax highlighting -->


</body>
</html>