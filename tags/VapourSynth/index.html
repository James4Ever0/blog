<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>VapourSynth | Blog of James Brown</title>
  <meta name="author" content="James Brown">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="Blog of James Brown"/>

  
    <meta property="og:image" content=""/>
  

  
    <link rel="alternative" href="/blog/atom.xml" title="Blog of James Brown" type="application/atom+xml">
  
  
    <link href="/blog/favicon.png" rel="icon">
  

  <!-- CSS -->
  <link rel="stylesheet" href="/blog/css/themes/cerulean.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/blog/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/blog/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/blog/css/responsive.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/blog/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/blog/css/highlight-default.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/blog/css/google-fonts.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/blog/css/comment.css" media="screen" type="text/css">
  <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/es5-shim/4.5.9/es5-shim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/es5-shim/4.5.7/es5-sham.min.js"></script>
  <![endif]-->

  <script src="/blog/js/jquery-2.0.3.min.js"></script>
  
  
  <!-- analytics -->
  



<meta name="generator" content="Hexo 7.0.0"></head>

<body>
  <nav id="main-nav" class="navbar navbar-inverse navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
      <button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
	<span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
       <a class="navbar-brand" href="/blog/">Blog of James Brown</a>
      <div class="collapse navbar-collapse nav-menu">
		<ul class="nav navbar-nav">
		  
		  <li>
			<a href="/blog/archives" title="All the articles.">
			  <i class="fa fa-archive"></i>Archives
			</a>
		  </li>
		  
		  <li>
			<a href="/blog/categories" title="All the categories.">
			  <i class="fa fa-folder"></i>Categories
			</a>
		  </li>
		  
		  <li>
			<a href="/blog/tags" title="All the tags.">
			  <i class="fa fa-tags"></i>Tags
			</a>
		  </li>
		  
		  <li>
			<a href="/blog/about" title="About me.">
			  <i class="fa fa-user"></i>About
			</a>
		  </li>
		  
		</ul>
      </div>
    </div> <!-- container -->
</nav>
<div class="clearfix"></div>

  <div class="container">
    <div class="content">
      

<!-- title -->
<div class="page-header page-header-inverse ">
  <h1 class="archive-title-tag title title-inverse ">VapourSynth</h1>
</div>

<div class="row page">
  <!-- cols -->
  
  <div class="col-md-9">
	

	  <div id="top_search"></div>

      
         <!-- display as entry -->
	     <div class="mypage">
	       
		     
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2022-09-07 </div>
			<div class="article-title"><a href="/blog/2022/09/07/097a59b9-2109-4a81-8f9f-390bfe3714c5/" title="VapourSynth is a powerful video processing tool that utilizes optical flow algorithms, frame interpolation, and denoising. It seamlessly integrates with other tools like nazobase, DBmbk, and ffmpeg to enhance video quality. With support for Python scripting, users can customize the tool according to their specific requirements. VapourSynth also leverages techniques such as nazorip Bezier curve, gamma curve, convolution, and flowpy for advanced image processing capabilities.">vapoursynth 光流算法 补帧 画面优化 denoising</a></div>
		</h3>
	


		     
<div class="entry">

  <div class="row">
	
	
		<p><a target="_blank" rel="noopener" href="https://github.com/GoodManWEN/nazobase">nazobase</a> NAZOrip basement, with cython dll <a target="_blank" rel="noopener" href="https://www.nazorip.site/archives/37/">docs</a><br><a target="_blank" rel="noopener" href="https://github.com/kewenyu/DBmbk">DBmbk</a> a debanding toolkit, for easier bezier curve generation<br><a target="_blank" rel="noopener" href="https://ffmpeg.org/ffmpeg-filters.html#sr">ffmpeg super resolution filter</a> could get faster if run on gpu with <a target="_blank" rel="noopener" href="https://www.tensorflow.org/install/lang_c">libtensorflow</a><br><a target="_blank" rel="noopener" href="https://github.com/HighVoltageRocknRoll/sr">VESPCN: real-time super resolution</a><br><a target="_blank" rel="noopener" href="https://github.com/stax76/mpv.net">mpv</a> is a media player with VapourSynth built-in, and that’s probably how vapoursynth gets in my mac via brew dependency manager<br><a target="_blank" rel="noopener" href="https://github.com/UniversalAl/view">view.py</a> is Python module for vapoursynth scripts that previews clips<br><a target="_blank" rel="noopener" href="https://github.com/WolframRhodium/muvsfunc/wiki/OpenCV-Python-for-VapourSynth">to use opencv functions with vapoursynth</a><br>svp is <a target="_blank" rel="noopener" href="https://www.svp-team.com/zh/get/#">free on linux</a>, offering <a target="_blank" rel="noopener" href="https://www.svp-team.com/wiki/SVP:VLC#Using_SVP_in_VLC">plugin for vlc</a> while vlc cannot be run as root<br>you might harvest some prebuilt binaries of vapoursynth plugins for linux<br>补帧算法可适用于我们的动态水印追踪系统 但是可能需要优化 才能做到比较快速的补帧 因为水印所在位置的区间实际上只是白色的 不需要过于复杂的网络 同时这种补出来的水印需要逐帧处理 或者两帧一处理 生成的区间数量会非常的多<br>it is much easier to do this on windows since we need quick evaluation. might run this on virtualbox?<br><a target="_blank" rel="noopener" href="https://github.com/Bl4Cc4t/homebrew-vsplugins/tree/master/Formula">build scripts</a> on how to build plugins for macos, including how to configure the installation prefix.<br>brew compatible, macos compatible vapoursynth plugin build script provider: <a target="_blank" rel="noopener" href="https://github.com/Bl4Cc4t/homebrew-vsplugins">homebrew-vsplugins</a> does not provide build scripts for all plugins avaliable for windows, and it requires <a target="_blank" rel="noopener" href="https://github.com/Bl4Cc4t/homebrew-vsplugins/blob/master/linkvsp.sh">additional linking</a><br><a target="_blank" rel="noopener" href="https://forum.doom9.org/showthread.php?t=175522">tutorial</a> on how to configure it: (is it intel only?)<br>Alternative VapourSynth Install Method (Brew):<br>IMPORTANT: Brew users will need to create and set the autoload folder prior to installing VapourSynth! Simply run the following commands:<br>Code:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -p /usr/local/lib/vapoursynth</span><br><span class="line"><span class="built_in">mkdir</span> -p <span class="string">&quot;<span class="variable">$HOME</span>/Library/Application Support/VapourSynth&quot;</span></span><br><span class="line"><span class="built_in">touch</span> <span class="string">&quot;<span class="variable">$HOME</span>/Library/Application Support/VapourSynth/vapoursynth.conf&quot;</span></span><br><span class="line"><span class="built_in">echo</span> UserPluginDir=/usr/local/lib/vapoursynth &gt;&gt; <span class="string">&quot;<span class="variable">$HOME</span>/Library/Application Support/VapourSynth/vapoursynth.conf&quot;</span></span><br><span class="line"><span class="built_in">echo</span> SystemPluginDir=/usr/local/lib/vapoursynth &gt;&gt; <span class="string">&quot;<span class="variable">$HOME</span>/Library/Application Support/VapourSynth/vapoursynth.conf&quot;</span></span><br></pre></td></tr></table></figure>
<p>(Optional) Create desktop shortcuts for the plugins and scripts folders. Run the following commands in terminal:<br>Code:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> <span class="variable">$HOME</span>/Desktop/VapourSynth</span><br><span class="line"><span class="built_in">ln</span> -s /usr/local/lib/vapoursynth <span class="variable">$HOME</span>/Desktop/VapourSynth/Plugins</span><br><span class="line"><span class="built_in">ln</span> -s /usr/local/lib/python3.9/site-packages <span class="variable">$HOME</span>/Desktop/VapourSynth/Scripts</span><br></pre></td></tr></table></figure>
<p>Use brew command:<br>Code:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install vapoursynth</span><br></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://github.com/WolframRhodium/VapourSynth-BM3DCUDA">bm3d denoising using cuda</a><br><a target="_blank" rel="noopener" href="https://vsdb.top/plugins/fft3dfilter">fft3d denoising</a><br><a target="_blank" rel="noopener" href="https://learnopencv.com/optical-flow-in-opencv/">python opencv 光流算法详解</a> 分为sparse和dense两种 某种程度上都可以计算场景的变换激烈程度<br><a target="_blank" rel="noopener" href="https://github.com/vineeths96/Video-Interpolation-using-Deep-Optical-Flow">frame interpolation using deep optical flow</a><br><a target="_blank" rel="noopener" href="https://github.com/open-mmlab/mmflow">openmmlab mmflow</a><br><a target="_blank" rel="noopener" href="https://github.com/google-research/frame-interpolation">google research: FILM (frame interpolation for large motion)</a><br><a target="_blank" rel="noopener" href="http://www.vapoursynth.com/doc/gettingstarted.html">vapoursynth get started (official doc)</a><br><a target="_blank" rel="noopener" href="http://vsdb.top/">vapoursynth plugin database</a> only provide prebuilt binaries for windows while the plugin source code might work with linux and macos (if it has the source code)<br><a target="_blank" rel="noopener" href="https://github.com/vapoursynth/vsrepo">VSRepo plugin manager</a> installing vapoursynth plugin via commandline tool and vsrepo is only supported on windows, for other platforms we need to compile plugins manually.<br><a target="_blank" rel="noopener" href="https://www.nazorip.site/category/Tutorials/">nazorip vapoursynth blogs</a><br><a target="_blank" rel="noopener" href="https://nazorip.site/archives/32/">nazorip bezier curve</a><br><a target="_blank" rel="noopener" href="https://nazorip.site/archives/56/">nazorip gamma curve and convolution</a><br><a target="_blank" rel="noopener" href="https://nazorip.site/archives/56/">flowpy: tool for visualizing and processing image with optical flow</a></p>

	
	</div>
  <a type="button" href="/blog/2022/09/07/097a59b9-2109-4a81-8f9f-390bfe3714c5/#more" class="btn btn-default more">Read More</a>
</div>

	       
		     
	
	<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> 2022-09-03 </div>
			<div class="article-title"><a href="/blog/2022/09/03/dbd8fd94-911d-4964-9bc6-27747f20428b/" title="This article discusses various video quality enhancement techniques such as super resolution with Real-CUGAN, colorization, and algorithms like DAIN, RIFE, VapourSynth, Waifu2x, and RealESRGAN. These techniques can improve clarity and frame rates but may have an impact on speed or image quality.">补帧 插帧 提高帧数</a></div>
		</h3>
	


		     
<div class="entry">

  <div class="row">
	
	
		<h1 id="补帧-插帧-提高帧数-黑白相片上色-慢动作视频-照片优化-提高清晰度-模糊变清晰-人像美颜"><a href="#补帧-插帧-提高帧数-黑白相片上色-慢动作视频-照片优化-提高清晰度-模糊变清晰-人像美颜" class="headerlink" title="补帧 插帧 提高帧数 黑白相片上色 慢动作视频 照片优化 提高清晰度 模糊变清晰 人像美颜"></a>补帧 插帧 提高帧数 黑白相片上色 慢动作视频 照片优化 提高清晰度 模糊变清晰 人像美颜</h1><p>超分辨率 super resolution <a target="_blank" rel="noopener" href="https://github.com/nihui/realcugan-ncnn-vulkan">realcugan</a> <a target="_blank" rel="noopener" href="https://github.com/bilibili/ailab/tree/main/Real-CUGAN">bilibili official real cugan</a><br>avisynth的替代品：<a target="_blank" rel="noopener" href="http://vapoursynth.com/doc/pythonreference.html#grammar">vapoursynth</a>（in Python） FrameServer<br>vapoursynth is somehow installed on python 3.10(brew). do not know what depends on that.<br><a target="_blank" rel="noopener" href="https://github.com/dubhater/vapoursynth-mvtools">mvtools for vapoursynth</a> motion compensation<br>效果好 速度慢 <a target="_blank" rel="noopener" href="https://github.com/baowenbo/DAIN">dain</a><br><a target="_blank" rel="noopener" href="https://github.com/MegEngine/ECCV2022-RIFE">rife</a> 速度快 画质会变差 <a target="_blank" rel="noopener" href="https://github.com/megvii-research/ECCV2022-RIFE">another repo link with more stars</a><br><a target="_blank" rel="noopener" href="https://gist.github.com/Mr-Z-2697/5dab5352e078cdde96453216ad7a7f92">vapoursynth rife filter usage</a> just a gist<br><a target="_blank" rel="noopener" href="https://vsdb.top/plugins/rife">vsrife using cuda</a><br><a target="_blank" rel="noopener" href="https://vsdb.top/plugins/rife">rife plugin for vapoursynth using vulkan</a><br><a target="_blank" rel="noopener" href="https://github.com/avinashpaliwal/Super-SloMo/">nvidia super slomo</a> 比较吃显存 需要NVIDIA SDK 速度快<br><a target="_blank" rel="noopener" href="https://github.com/martkartasev/sepconv">sepconv</a> 看起来比较模糊 但是还是比直接overlay要好<br><a target="_blank" rel="noopener" href="https://github.com/sniklaus/sepconv-slomo">pytorch sepconv slomo</a><br><a target="_blank" rel="noopener" href="https://github.com/baowenbo/MEMC-Net">memc-net</a>比较清晰<br>FFmpeg自带插帧的filter：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i input.60fps.hevc -filter <span class="string">&quot;minterpolate=&#x27;fps=120&#x27;&quot;</span> output.120fps.hevc</span><br></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://aistudio.baidu.com/aistudio/projectdetail/1161285?channelType=0&channel=0">ai黑白上色可以把原视频洗稿</a>：image colorization<br><a target="_blank" rel="noopener" href="https://github.com/emilwallner/Coloring-greyscale-images">coloring grayscale images</a><br>Coloring black and white images with deep learning<br>memc (motion estimation&#x2F;motion compensation)<br>在CSDN上看到的算法名称和内容<br>内置超分辨率算法:<br>Waifu2x &#x2F; SRMD &#x2F; RealSR &#x2F; Real-ESRGAN&#x2F; Real-CUGAN &#x2F; Anime4K &#x2F; ACNet<br>内置超分辨率引擎:<br>Waifu2x-caffe &#x2F; Waifu2x-converter &#x2F; Waifu2x-ncnn-vulkan<br>SRMD-ncnn-vulkan &#x2F; RealSR-ncnn-vulkan &#x2F; Anime4KCPP &#x2F; SRMD-CUDA<br>RealESRGAN-NCNN-Vulkan &#x2F; Real-CUGAN-ncnn-vulkan<br>内置插帧算法:<br>RIFE &#x2F; CAIN &#x2F; DAIN<br>内置插帧引擎:<br>rife-ncnn-vulkan &#x2F; cain-ncnn-vulkan &#x2F; dain-ncnn-vulkan</p>

	
	</div>
  <a type="button" href="/blog/2022/09/03/dbd8fd94-911d-4964-9bc6-27747f20428b/#more" class="btn btn-default more">Read More</a>
</div>

	       
	     </div>
	     <div>
	       <center>
	         <div class="pagination">
<ul class="pagination">
	 
</ul>
</div>

	       </center>
	     </div>	
      

</div> <!-- col-md-9/col-md-12 -->


<div class="col-md-3">
	<div id="sidebar">
	
			
  <div id="site_search">
   <div class="form-group">
    <input type="text" id="local-search-input" name="q" results="0" placeholder="Search" class="st-search-input st-default-search-input form-control"/>
   </div>  
  <div id="local-search-result"></div>
  </div>


		
			
<div class="widget">
	<h4>Links</h4>
	<ul class="blogroll list-unstyled">
	
		<li><i class="fa fa-github"></i><a href="https://github.com/james4ever0/agi_computer_control/" title="Autonomous computer agent" target="_blank"]);">Project Cybergod</a></li>
	
		<li><i class="fa fa-github"></i><a href="https://github.com/james4ever0/pyjom/" title="Media content automation" target="_blank"]);">Project Pyjom</a></li>
	
		<li><i class="fa fa-github"></i><a href="https://github.com/james4ever0/prometheous/" title="Automated documentation, AI+IR(RAG)" target="_blank"]);">Project Prometheus</a></li>
	
		<li><i class="fa fa-github"></i><a href="https://github.com/james4ever0/pyjom/" title="Media Content Automation" target="_blank"]);">Project Pyjom</a></li>
	
		<li><i class="fa fa-github"></i><a href="https://github.com/james4ever0/my_blog_source/" title="Source code of my blog"" target="_blank"]);">Blog Source Code</a></li>
	
		<li><i class="fa fa-github"></i><a href="http://www.github.com/james4ever0" title="My Github account" target="_blank"]);">My Github</a></li>
	
		<li><i class="fa fa-book"></i><a href="https://samoyedsun.github.io/" title="Samoyedsun's Blog" target="_blank"]);">Samoyedsun&#39;s Blog</a></li>
	
		<li><i class="fa fa-book"></i><a href="http://atlant1c.cn/" title="Atlant1c's Blog" target="_blank"]);">Atlant1c&#39;s Blog</a></li>
	
		<li><i class="fa fa-book"></i><a href="https://www.gregoryuan.com/" title="Gregoryuan's Blog" target="_blank"]);">Gregoryuan&#39;s Blog</a></li>
	
	</ul>
</div>


		
	</div> <!-- sidebar -->
</div> <!-- col-md-3 -->




    </div>
  </div>
  <div class="container-narrow">
    <footer> <p>
  &copy; 2023 James Brown
  
      with help from <a href="http://hexo.io/" target="_blank">Hexo</a> and <a href="http://getbootstrap.com/" target="_blank">Twitter Bootstrap</a>. Theme by <a target="_blank" rel="noopener" href="http://github.com/wzpan/hexo-theme-freemind/">Freemind</a>.    
</p> </footer>
  </div> <!-- container-narrow -->
  


  
<a id="gotop" href="#">   
  <span>▲</span> 
</a>

<script src="/blog/js/jquery.imagesloaded.min.js"></script>
<script src="/blog/js/gallery.js"></script>
<script src="/blog/js/bootstrap.min.js"></script>
<script src="/blog/js/main.js"></script>
<script src="/blog/js/search.js"></script> 


<link rel="stylesheet" href="/blog/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/blog/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>



   <script type="text/javascript">      
     var search_path = "search.xml";
	 if (search_path.length == 0) {
	 	search_path = "search.xml";
	 }
	 var path = "/blog/" + search_path;
     searchFunc(path, 'local-search-input', 'local-search-result');
   </script>


<!-- syntax highlighting -->


</body>
</html>